{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\coding-files\\\\projects\\\\web-chat-app\\\\client\\\\src\\\\asset\\\\MobileViewFolder\\\\MobileChatList.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { FaRegBell, FaSistrix } from \"react-icons/fa\";\nimport './MobileChatList.css';\nimport axios from 'axios';\nimport { OtherUserNameContext } from \"../contextFolder/OtherUserNameContext\";\nimport { LoggedInNameContext } from \"../contextFolder/LoggedInNameContext\";\nimport { MessageDisplayContext } from \"../contextFolder/MessageDisplayContext\";\nimport { ProfileDisplayContext } from \"../contextFolder/ProfileDisplayContext\";\nimport { SettingsDisplayContext } from \"../contextFolder/SettingsDisplayContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AddUserToChatListContext } from \"../contextFolder/AddUserToChatListContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MobileChatList() {\n  _s();\n\n  //-------- [ OUR USEREF FOR THIS COMPONENT... ] --------//\n  //THIS IS FOR OUR SCROLLABLE CHAT list      \n  const scrollableChatListRef = useRef(); //THIS IS FOR THE FILTERING OF SEARCH DIV\n\n  const filterParentContainerRef = useRef(); //THIS IS FOR THE CONVERSED WITH DIV\n\n  const conversedWithParentContainerRef = useRef();\n\n  const hideFilterParentContainerRef = () => {\n    filterParentContainerRef.current.style.display = \"none\";\n    conversedWithParentContainerRef.style.display = \"true\";\n  };\n\n  const showFilterParentContainerRef = () => {\n    filterParentContainerRef.current.style.display = \"block\"; //     conversedWithParentContainerRef.style.display = \"none\"\n  };\n\n  const hideConveresedParentContainerRef = () => {//      conversedWithParentContainerRef.style.display = \"hidden\"\n    //      filterParentContainerRef.current.style.display = \"visible\"\n  };\n\n  const handleRemovingThisUserFromNotificationList = thisUser => {\n    setNotificationValue([]); //Let's check if this user exists in our notification list array and\n    //the filter out users that are not the same vaue as this user and\n    //then set the state of notification list to be our filtered user\n\n    axios.post(\"http://localhost:4000/removeThisUserNotification\", {\n      loggedInUser: loggedInNameValue,\n      personToRemove: thisUser\n    }).then(result => {\n      if (result) {\n        result.data.forEach(resData => {\n          let addThis = resData.personToAddToNotificationList;\n\n          if (!notificationValue.includes(addThis)) {\n            setNotificationValue(prevState => [...prevState, addThis]);\n          }\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    unReadRef.current.style.display = \"none\";\n  }; //---------- [ CONTEXT API FOR THIS FILE... ] ----------//\n\n\n  const {\n    loggedInNameValue,\n    setLoggedInNameValue\n  } = useContext(LoggedInNameContext);\n  const {\n    otherUserNameValue,\n    setOtherUserNameValue\n  } = useContext(OtherUserNameContext); //Displays message component when you click on list of conversed with user\n\n  const {\n    messageDisplayValue,\n    setMessageDisplayValue\n  } = useContext(MessageDisplayContext);\n  const {\n    profileDisplayValue,\n    setProfileDisplayValue\n  } = useContext(ProfileDisplayContext);\n  const {\n    settingsDisplayValue,\n    setSettingsDisplayValue\n  } = useContext(SettingsDisplayContext); //adding someone to your chatlist when they message you.\n\n  const {\n    addUserToChatListValue,\n    setAddUserToChatListValue\n  } = useContext(AddUserToChatListContext); //This hold the value for every notification we've. It stores the user that  \n  //sent use message and have'nt responded to.\n\n  const {\n    notificationValue,\n    setNotificationValue\n  } = useContext(NotificationContext);\n\n  const clickMessage = () => {\n    setProfileDisplayValue(false);\n    setSettingsDisplayValue(false);\n    setMessageDisplayValue(true);\n  };\n  /* - - - - - [ALL USESTATE FOR THIS PARTICULAR COMPONENT] - - - - - */\n  //This is for navigating to chat message room\n\n\n  const navigate = useNavigate(); //This will help us storing the list of user that we've conversed with\n\n  const [conversedWithLists, setConversedWithLists] = useState([]); //This setFilteredData will store the filtered element based on the user\n  //search input and then store it in the filteredData variable so we can\n  //map it\n\n  const [filteredData, setFilteredData] = useState([]); //This is used for capturing what the user types into the search box\n\n  const [searchWord, setSearchWord] = useState();\n  /* - - - - - [ALL OUR FUNCTIONS FOR THIS PARTICULAR COMPONENT] - - - - -*/\n  //This is to store what the user type in the search box so we can\n  //use for filtering and also filter the name of user in realtime \n  //based on serach input\n\n  const onChangeFunction = event => {\n    //setHideConversedWithParentContainer(\"none\")\n    //This shows the filters parent container whenonChange of the input search box\n    showFilterParentContainerRef();\n  };\n\n  let [show, setShow] = useState('block');\n  !filteredData ? show = 'none' : show = 'block'; //This function is used for getting the user with the name that matches what the user is typed in\n  //the search box once they clicked the search button close to the search input box\n\n  const searchUser = () => {\n    const newArray = listOfUsersFromDatabase.filter(listOfUsers => {\n      //Here, we're saying: if the name the user provide doesn't exist, we should print an error message\n      //else, the program should return the name that matches what the user is searching for\n      if (listOfUsers.name.toLowerCase() !== searchWord.toLowerCase()) {\n        return console.log('user dont exist');\n      } else {\n        return listOfUsers.name.toLowerCase() === searchWord.toLowerCase();\n      }\n    });\n    setFilteredData(newArray);\n  }; //OPEN MESSAGE CHAT \n\n\n  const openMessageChat = () => {\n    navigate('/chatbody');\n  };\n\n  const goToSettings = () => {\n    navigate('/settings');\n  };\n\n  const goToProfile = () => {\n    navigate('/userprofile');\n  };\n\n  function saveToChatList(nameToSaveToChatList) {\n    if (nameToSaveToChatList) {\n      axios.post(\"http://localhost:4000/saveToChatList\", {\n        loggedInUser: loggedInNameValue,\n        personToSaveToChatList: nameToSaveToChatList\n      }).then(response => {\n        //  console.log(response.data.result)\n        setConversedWithLists(prevState => [...prevState, response.data.result]);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  } //THIS USEEFFECT IS USED TO FETCH ALL SAVED CONVERSED WITH LIST ON EVERY PAGE RENDER\n\n\n  useEffect(() => {\n    const gettingLoggedInName = JSON.parse(sessionStorage.getItem(\"username\"));\n    axios.post(\"http://localhost:4000/getMyChatList\", {\n      loggedInUser: gettingLoggedInName\n    }).then(response => {\n      //filtering all the people in my chatlist and then putting it in my conversed with list\n      const c = response.data.filter(item => {\n        return setConversedWithLists(prevState => [...prevState, item.personToSaveToChatList]);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  console.log('the' + loggedInNameValue); //THIS WILL BE USED TO ADD SOMEONE TO YOUR CHATLIST WHEN THEY MESSAGE YOU.\n\n  useEffect(() => {\n    if (addUserToChatListValue) {\n      //if conversedWithList have this particular user, change their position\n      //to the top\n      if (conversedWithLists.includes(addUserToChatListValue)) {} //if conversedWithList doesn't include this particular user, add the user\n      //to my chatlist.\n\n\n      if (!conversedWithLists.includes(addUserToChatListValue)) {\n        setConversedWithLists(prevState => [...prevState, addUserToChatListValue]);\n      }\n    }\n  }, [addUserToChatListValue]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mobile-chat-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-view-top-header-parent-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-view-top-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h2\",\n          children: \"Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FaRegBell, {\n          className: \"mobile-view-FaRegBell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-view-search-input-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"mobile-view-search-input\",\n          onChange: onChangeFunction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FaSistrix, {\n          className: \"mobile-view-search-input-icon\",\n          onClick: searchUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"ul-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: goToProfile,\n          children: \"profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: goToSettings,\n          children: \"setting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-view-scrollable-chat-list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-view-filterAndConversewithParentDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-view-filterParentContainer\",\n          ref: filterParentContainerRef,\n          children: filteredData.map((filter, id) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-view-filtered-user\",\n            style: {\n              display: show\n            },\n            onClick: () => {\n              if (conversedWithLists.includes(filter.name)) {//Here we are saying if the conversedWithLists state have the name\n                //of the filteredData, it shouldn't add to it list but only change\n                //the position of that user to the top.  \n              } else if (!conversedWithLists.includes(filter.name)) {\n                //if user's name is not in our list of converesed with, it should\n                //add it to it.\n                saveToChatList(filter.name);\n              }\n\n              hideFilterParentContainerRef();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\n              /*THIS CHECKS IF FILTERED USER HAS PROFILE PICTURE SO IT CAN BE DISPLAYED\r\n                CLOSE TO THE NAME AND IF NO, IT SHOULD DISPLAY THE FIRST LETTER THAT \r\n                BEGINS IT NAME AS THE PICTURE CLOSE TO THE NAME */\n              filter.profile_picture ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: filter.profile_picture\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 54\n              }, this) : filter.name ? /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"mobile-view-image-behind-filter-name\",\n                children: filter.name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 43\n              }, this) : '', filter.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 25\n            }, this)\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile-view-conversedWithParentContainer\",\n          children: conversedWithLists.map((conversedWithList, id) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-view-conversed-user\",\n            onClick: () => {\n              {\n                /*onClick of a user in the chatlist will pass the name of the user to \r\n                the chatbody using the contextapi crafted for OtherUserNameValue*/\n              }\n              setOtherUserNameValue(conversedWithList);\n              openMessageChat();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\n              /*THIS CHECKS IF CONVERESEDWITHLIST EXIST, IF YES, SHOW THIS IMAGE BESIDE IT.*/\n              conversedWithList ? /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"mobile-view-image-behind-conversed-name\",\n                children: conversedWithList.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 41\n              }, this) : ' ', conversedWithList]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this)\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 326,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MobileChatList, \"RgUTuW0jXYzdVLFpawYllNOQtZs=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MobileChatList;\nexport default MobileChatList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MobileChatList\");","map":{"version":3,"names":["useContext","useEffect","useRef","useState","FaRegBell","FaSistrix","axios","OtherUserNameContext","LoggedInNameContext","MessageDisplayContext","ProfileDisplayContext","SettingsDisplayContext","useNavigate","AddUserToChatListContext","MobileChatList","scrollableChatListRef","filterParentContainerRef","conversedWithParentContainerRef","hideFilterParentContainerRef","current","style","display","showFilterParentContainerRef","hideConveresedParentContainerRef","handleRemovingThisUserFromNotificationList","thisUser","setNotificationValue","post","loggedInUser","loggedInNameValue","personToRemove","then","result","data","forEach","resData","addThis","personToAddToNotificationList","notificationValue","includes","prevState","catch","err","console","log","unReadRef","setLoggedInNameValue","otherUserNameValue","setOtherUserNameValue","messageDisplayValue","setMessageDisplayValue","profileDisplayValue","setProfileDisplayValue","settingsDisplayValue","setSettingsDisplayValue","addUserToChatListValue","setAddUserToChatListValue","NotificationContext","clickMessage","navigate","conversedWithLists","setConversedWithLists","filteredData","setFilteredData","searchWord","setSearchWord","onChangeFunction","event","show","setShow","searchUser","newArray","listOfUsersFromDatabase","filter","listOfUsers","name","toLowerCase","openMessageChat","goToSettings","goToProfile","saveToChatList","nameToSaveToChatList","personToSaveToChatList","response","gettingLoggedInName","JSON","parse","sessionStorage","getItem","c","item","map","id","profile_picture","charAt","conversedWithList"],"sources":["C:/Users/HP/Desktop/coding-files/projects/web-chat-app/client/src/asset/MobileViewFolder/MobileChatList.js"],"sourcesContent":["import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { FaRegBell, FaSistrix } from \"react-icons/fa\";\r\nimport './MobileChatList.css';\r\nimport axios from 'axios';\r\nimport { OtherUserNameContext } from \"../contextFolder/OtherUserNameContext\";\r\nimport { LoggedInNameContext } from \"../contextFolder/LoggedInNameContext\";\r\nimport { MessageDisplayContext } from \"../contextFolder/MessageDisplayContext\";\r\nimport { ProfileDisplayContext } from \"../contextFolder/ProfileDisplayContext\";\r\nimport { SettingsDisplayContext } from \"../contextFolder/SettingsDisplayContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AddUserToChatListContext } from \"../contextFolder/AddUserToChatListContext\";\r\n\r\nfunction MobileChatList(){\r\n\r\n    //-------- [ OUR USEREF FOR THIS COMPONENT... ] --------//\r\n\r\n    //THIS IS FOR OUR SCROLLABLE CHAT list      \r\n    const scrollableChatListRef = useRef()\r\n\r\n    //THIS IS FOR THE FILTERING OF SEARCH DIV\r\n    const filterParentContainerRef = useRef()\r\n\r\n    //THIS IS FOR THE CONVERSED WITH DIV\r\n    const conversedWithParentContainerRef = useRef()\r\n\r\n\r\n    const hideFilterParentContainerRef = () => {\r\n\r\n        filterParentContainerRef.current.style.display = \"none\"\r\n\r\n        conversedWithParentContainerRef.style.display = \"true\"\r\n\r\n    }\r\n\r\n\r\n    const showFilterParentContainerRef = () => {\r\n\r\n        filterParentContainerRef.current.style.display = \"block\"\r\n\r\n   //     conversedWithParentContainerRef.style.display = \"none\"\r\n\r\n    }\r\n\r\n    const hideConveresedParentContainerRef = () => {\r\n\r\n   //      conversedWithParentContainerRef.style.display = \"hidden\"\r\n\r\n   //      filterParentContainerRef.current.style.display = \"visible\"\r\n\r\n\r\n    }\r\n\r\n\r\n    const handleRemovingThisUserFromNotificationList = (thisUser) => {\r\n\r\n        setNotificationValue([]) \r\n\r\n        //Let's check if this user exists in our notification list array and\r\n        //the filter out users that are not the same vaue as this user and\r\n        //then set the state of notification list to be our filtered user\r\n\r\n        axios.post(\"http://localhost:4000/removeThisUserNotification\", {\r\n\r\n            loggedInUser: loggedInNameValue,\r\n\r\n            personToRemove: thisUser\r\n\r\n        }).then((result) => {\r\n\r\n            if (result) {\r\n\r\n                result.data.forEach((resData) => {\r\n\r\n                    let addThis = resData.personToAddToNotificationList\r\n\r\n                    if ( !notificationValue.includes(addThis) ) { \r\n\r\n                    setNotificationValue((prevState) => [...prevState, addThis])\r\n\r\n                    }\r\n\r\n                });\r\n \r\n               \r\n            }\r\n            \r\n            \r\n        }).catch((err) => {\r\n\r\n            console.log(err)\r\n\r\n        });    \r\n\r\n\r\n        unReadRef.current.style.display = \"none\";\r\n\r\n    }\r\n\r\n\r\n   \r\n    //---------- [ CONTEXT API FOR THIS FILE... ] ----------//\r\n    const { loggedInNameValue, setLoggedInNameValue } = useContext(LoggedInNameContext)\r\n    const { otherUserNameValue, setOtherUserNameValue } = useContext(OtherUserNameContext) \r\n\r\n    //Displays message component when you click on list of conversed with user\r\n    const { messageDisplayValue, setMessageDisplayValue } = useContext(MessageDisplayContext)\r\n    const { profileDisplayValue, setProfileDisplayValue } = useContext(ProfileDisplayContext)\r\n    const {settingsDisplayValue, setSettingsDisplayValue } = useContext(SettingsDisplayContext)\r\n\r\n    //adding someone to your chatlist when they message you.\r\n    const { addUserToChatListValue, setAddUserToChatListValue } = useContext(AddUserToChatListContext)\r\n\r\n    //This hold the value for every notification we've. It stores the user that  \r\n    //sent use message and have'nt responded to.\r\n    const { notificationValue, setNotificationValue }  = useContext(NotificationContext)\r\n\r\n\r\n    const clickMessage = () => {\r\n        setProfileDisplayValue(false)\r\n        setSettingsDisplayValue(false)\r\n        setMessageDisplayValue(true)\r\n    }\r\n\r\n\r\n\r\n\r\n    /* - - - - - [ALL USESTATE FOR THIS PARTICULAR COMPONENT] - - - - - */\r\n\r\n    //This is for navigating to chat message room\r\n    const navigate = useNavigate();\r\n\r\n    //This will help us storing the list of user that we've conversed with\r\n    const [conversedWithLists, setConversedWithLists] = useState([])\r\n\r\n    //This setFilteredData will store the filtered element based on the user\r\n    //search input and then store it in the filteredData variable so we can\r\n    //map it\r\n    const [filteredData, setFilteredData] = useState([])\r\n\r\n    //This is used for capturing what the user types into the search box\r\n    const [searchWord, setSearchWord] = useState();\r\n   \r\n\r\n\r\n    /* - - - - - [ALL OUR FUNCTIONS FOR THIS PARTICULAR COMPONENT] - - - - -*/\r\n\r\n    //This is to store what the user type in the search box so we can\r\n    //use for filtering and also filter the name of user in realtime \r\n    //based on serach input\r\n    const onChangeFunction = ( event ) => {\r\n\r\n      \r\n\r\n\r\n        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //setHideConversedWithParentContainer(\"none\")\r\n        //This shows the filters parent container whenonChange of the input search box\r\n        showFilterParentContainerRef()\r\n\r\n\r\n    }\r\n\r\n    let [show, setShow] = useState('block')\r\n    !filteredData ? show = 'none' : show = 'block'\r\n\r\n   \r\n    //This function is used for getting the user with the name that matches what the user is typed in\r\n    //the search box once they clicked the search button close to the search input box\r\n    const searchUser = () => {\r\n\r\n       const newArray = listOfUsersFromDatabase.filter( (listOfUsers) => {\r\n          \r\n        //Here, we're saying: if the name the user provide doesn't exist, we should print an error message\r\n        //else, the program should return the name that matches what the user is searching for\r\n        \r\n          if (listOfUsers.name.toLowerCase() !== searchWord.toLowerCase() ){\r\n\r\n               return console.log('user dont exist');\r\n\r\n          } else { \r\n            \r\n            return listOfUsers.name.toLowerCase() === searchWord.toLowerCase(); \r\n        \r\n        }\r\n      })\r\n\r\n      setFilteredData(newArray)\r\n\r\n    }\r\n\r\n\r\n    //OPEN MESSAGE CHAT \r\n    const openMessageChat = () => {\r\n\r\n        navigate('/chatbody')\r\n    }\r\n\r\n    const goToSettings = () => {\r\n        navigate('/settings')\r\n    }\r\n\r\n    const goToProfile = () => {\r\n        navigate('/userprofile')\r\n    }\r\n\r\n       \r\n    function saveToChatList (nameToSaveToChatList) {\r\n\r\n        if (nameToSaveToChatList) {\r\n\r\n            axios.post(\"http://localhost:4000/saveToChatList\", {\r\n\r\n                loggedInUser:  loggedInNameValue,\r\n\r\n                personToSaveToChatList: nameToSaveToChatList\r\n\r\n            }).then((response) => {\r\n\r\n              //  console.log(response.data.result)\r\n                setConversedWithLists((prevState) => [...prevState, response.data.result])\r\n\r\n            }).catch((err) => {\r\n\r\n                console.log(err)\r\n\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    \r\n     //THIS USEEFFECT IS USED TO FETCH ALL SAVED CONVERSED WITH LIST ON EVERY PAGE RENDER\r\n     useEffect(() => {\r\n        const gettingLoggedInName = JSON.parse(sessionStorage.getItem(\"username\"));  \r\n\r\n        axios.post(\"http://localhost:4000/getMyChatList\", {\r\n\r\n            loggedInUser: gettingLoggedInName\r\n\r\n        }).then((response) => {\r\n\r\n          //filtering all the people in my chatlist and then putting it in my conversed with list\r\n          const c = response.data.filter((item) => {\r\n\r\n            return setConversedWithLists((prevState) => [...prevState, item.personToSaveToChatList])\r\n            \r\n          })\r\n\r\n        }).catch((err) => {\r\n\r\n            console.log(err);\r\n\r\n        });\r\n\r\n    \r\n    }, [])\r\n\r\n    console.log('the' + loggedInNameValue)\r\n\r\n\r\n\r\n\r\n      //THIS WILL BE USED TO ADD SOMEONE TO YOUR CHATLIST WHEN THEY MESSAGE YOU.\r\n      useEffect(() => {\r\n\r\n        if (addUserToChatListValue) {\r\n\r\n            //if conversedWithList have this particular user, change their position\r\n            //to the top\r\n\r\n            if (conversedWithLists.includes(addUserToChatListValue)) {\r\n\r\n            }\r\n\r\n            //if conversedWithList doesn't include this particular user, add the user\r\n            //to my chatlist.\r\n\r\n            if (!conversedWithLists.includes(addUserToChatListValue)) {\r\n\r\n                setConversedWithLists((prevState) => [...prevState, addUserToChatListValue])\r\n            }\r\n\r\n            \r\n        }\r\n\r\n    }, [addUserToChatListValue])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n    return(\r\n        <div className=\"mobile-chat-list-container\" >\r\n\r\n           <div className=\"mobile-view-top-header-parent-div\">\r\n\r\n            <div className=\"mobile-view-top-flex\">\r\n                <h2 className=\"h2\">Messages</h2>\r\n\r\n                <FaRegBell className=\"mobile-view-FaRegBell\"/>\r\n            </div>\r\n            \r\n            {/*This is for the search user's input box*/}\r\n\r\n            <div className=\"mobile-view-search-input-div\">\r\n\r\n                <input type=\"text\" className=\"mobile-view-search-input\" onChange={onChangeFunction}></input>\r\n            \r\n                <FaSistrix className=\"mobile-view-search-input-icon\" onClick={searchUser}/>    \r\n               \r\n             \r\n            </div>\r\n\r\n\r\n\r\n\r\n            <ul className=\"ul-list\">\r\n                <li onClick={goToProfile}>profile</li>\r\n                <li onClick={goToSettings}>setting</li>\r\n            </ul>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            </div>{/*TOP HEADER DIV END*/}\r\n        \r\n\r\n            <div className=\"mobile-view-scrollable-chat-list\">{/*SCOLLABLE DIV*/}\r\n\r\n            {/*This is for when user is searching for name. It filters the names available based on\r\n               the user query or search */}\r\n            <div className=\"mobile-view-filterAndConversewithParentDiv\">\r\n\r\n\r\n             <div className=\"mobile-view-filterParentContainer\" ref={filterParentContainerRef} >\r\n\r\n                {\r\n                    filteredData.map((filter, id) => ( \r\n\r\n                    <div key={id} className=\"mobile-view-filtered-user\" style={{display: show}} onClick={( ) => {\r\n\r\n                        if (conversedWithLists.includes(filter.name)) {\r\n\r\n                        //Here we are saying if the conversedWithLists state have the name\r\n                        //of the filteredData, it shouldn't add to it list but only change\r\n                        //the position of that user to the top.  \r\n\r\n                        } else if ( !conversedWithLists.includes(filter.name) ){\r\n\r\n                        //if user's name is not in our list of converesed with, it should\r\n                        //add it to it.\r\n                              saveToChatList(filter.name);\r\n                        }\r\n\r\n                        hideFilterParentContainerRef();\r\n                        \r\n                        }}>\r\n                      \r\n                        <p>\r\n                       \r\n                            { /*THIS CHECKS IF FILTERED USER HAS PROFILE PICTURE SO IT CAN BE DISPLAYED\r\n                                CLOSE TO THE NAME AND IF NO, IT SHOULD DISPLAY THE FIRST LETTER THAT \r\n                                BEGINS IT NAME AS THE PICTURE CLOSE TO THE NAME */\r\n\r\n                            filter.profile_picture ? <img src={filter.profile_picture} /> :\r\n\r\n                            filter.name ? <b className=\"mobile-view-image-behind-filter-name\">{ filter.name.charAt(0) }</b>\r\n\r\n                            : ''\r\n                            \r\n                            }\r\n\r\n                            {filter.name}\r\n\r\n                        </p>\r\n\r\n                    </div>\r\n                    \r\n                    ))\r\n              \r\n                 }\r\n           \r\n             </div>{/*filterParentContainer CLOSING DIV*/}\r\n\r\n\r\n            \r\n            {/*THIS MAPS WHO YOU HAVE CONVERSED WITH. IT SHOWS ALL THE LIST*/}\r\n            <div className=\"mobile-view-conversedWithParentContainer\">\r\n               { \r\n                conversedWithLists.map((conversedWithList, id) => ( \r\n\r\n                <div key={id}  className=\"mobile-view-conversed-user\" onClick={ ( ) => {\r\n\r\n                   {/*onClick of a user in the chatlist will pass the name of the user to \r\n                    the chatbody using the contextapi crafted for OtherUserNameValue*/} \r\n                  \r\n                    setOtherUserNameValue(conversedWithList);\r\n\r\n                    openMessageChat();\r\n                   \r\n                }}>\r\n                    \r\n                <p> \r\n                    { \r\n                    /*THIS CHECKS IF CONVERESEDWITHLIST EXIST, IF YES, SHOW THIS IMAGE BESIDE IT.*/\r\n                       \r\n                    conversedWithList ? <b className=\"mobile-view-image-behind-conversed-name\">{ conversedWithList.charAt(0) }</b> \r\n                    : ' '\r\n\r\n                    }  \r\n\r\n                        { conversedWithList }\r\n                        \r\n                    </p>\r\n                   \r\n                </div>\r\n                \r\n                ))\r\n            }  \r\n\r\n        </div>{/*ConversedwithParentContainer CLOSING DIV*/}\r\n\r\n\r\n\r\n        </div>{/*filterAndConversewithParentDiv CLOSING DIV*/}\r\n\r\n\r\n        </div>{/*SCROLLABLE DIV CLOSING DIV*/}    \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MobileChatList;"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,MAAhC,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,gBAArC;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,oBAAT,QAAqC,uCAArC;AACA,SAASC,mBAAT,QAAoC,sCAApC;AACA,SAASC,qBAAT,QAAsC,wCAAtC;AACA,SAASC,qBAAT,QAAsC,wCAAtC;AACA,SAASC,sBAAT,QAAuC,yCAAvC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,wBAAT,QAAyC,2CAAzC;;;AAEA,SAASC,cAAT,GAAyB;EAAA;;EAErB;EAEA;EACA,MAAMC,qBAAqB,GAAGb,MAAM,EAApC,CALqB,CAOrB;;EACA,MAAMc,wBAAwB,GAAGd,MAAM,EAAvC,CARqB,CAUrB;;EACA,MAAMe,+BAA+B,GAAGf,MAAM,EAA9C;;EAGA,MAAMgB,4BAA4B,GAAG,MAAM;IAEvCF,wBAAwB,CAACG,OAAzB,CAAiCC,KAAjC,CAAuCC,OAAvC,GAAiD,MAAjD;IAEAJ,+BAA+B,CAACG,KAAhC,CAAsCC,OAAtC,GAAgD,MAAhD;EAEH,CAND;;EASA,MAAMC,4BAA4B,GAAG,MAAM;IAEvCN,wBAAwB,CAACG,OAAzB,CAAiCC,KAAjC,CAAuCC,OAAvC,GAAiD,OAAjD,CAFuC,CAI5C;EAEE,CAND;;EAQA,MAAME,gCAAgC,GAAG,MAAM,CAEhD;IAEA;EAGE,CAPD;;EAUA,MAAMC,0CAA0C,GAAIC,QAAD,IAAc;IAE7DC,oBAAoB,CAAC,EAAD,CAApB,CAF6D,CAI7D;IACA;IACA;;IAEApB,KAAK,CAACqB,IAAN,CAAW,kDAAX,EAA+D;MAE3DC,YAAY,EAAEC,iBAF6C;MAI3DC,cAAc,EAAEL;IAJ2C,CAA/D,EAMGM,IANH,CAMSC,MAAD,IAAY;MAEhB,IAAIA,MAAJ,EAAY;QAERA,MAAM,CAACC,IAAP,CAAYC,OAAZ,CAAqBC,OAAD,IAAa;UAE7B,IAAIC,OAAO,GAAGD,OAAO,CAACE,6BAAtB;;UAEA,IAAK,CAACC,iBAAiB,CAACC,QAAlB,CAA2BH,OAA3B,CAAN,EAA4C;YAE5CV,oBAAoB,CAAEc,SAAD,IAAe,CAAC,GAAGA,SAAJ,EAAeJ,OAAf,CAAhB,CAApB;UAEC;QAEJ,CAVD;MAaH;IAGJ,CA1BD,EA0BGK,KA1BH,CA0BUC,GAAD,IAAS;MAEdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IAEH,CA9BD;IAiCAG,SAAS,CAAC1B,OAAV,CAAkBC,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;EAEH,CA3CD,CAzCqB,CAwFrB;;;EACA,MAAM;IAAEQ,iBAAF;IAAqBiB;EAArB,IAA8C9C,UAAU,CAACQ,mBAAD,CAA9D;EACA,MAAM;IAAEuC,kBAAF;IAAsBC;EAAtB,IAAgDhD,UAAU,CAACO,oBAAD,CAAhE,CA1FqB,CA4FrB;;EACA,MAAM;IAAE0C,mBAAF;IAAuBC;EAAvB,IAAkDlD,UAAU,CAACS,qBAAD,CAAlE;EACA,MAAM;IAAE0C,mBAAF;IAAuBC;EAAvB,IAAkDpD,UAAU,CAACU,qBAAD,CAAlE;EACA,MAAM;IAAC2C,oBAAD;IAAuBC;EAAvB,IAAmDtD,UAAU,CAACW,sBAAD,CAAnE,CA/FqB,CAiGrB;;EACA,MAAM;IAAE4C,sBAAF;IAA0BC;EAA1B,IAAwDxD,UAAU,CAACa,wBAAD,CAAxE,CAlGqB,CAoGrB;EACA;;EACA,MAAM;IAAEyB,iBAAF;IAAqBZ;EAArB,IAA+C1B,UAAU,CAACyD,mBAAD,CAA/D;;EAGA,MAAMC,YAAY,GAAG,MAAM;IACvBN,sBAAsB,CAAC,KAAD,CAAtB;IACAE,uBAAuB,CAAC,KAAD,CAAvB;IACAJ,sBAAsB,CAAC,IAAD,CAAtB;EACH,CAJD;EASA;EAEA;;;EACA,MAAMS,QAAQ,GAAG/C,WAAW,EAA5B,CArHqB,CAuHrB;;EACA,MAAM,CAACgD,kBAAD,EAAqBC,qBAArB,IAA8C1D,QAAQ,CAAC,EAAD,CAA5D,CAxHqB,CA0HrB;EACA;EACA;;EACA,MAAM,CAAC2D,YAAD,EAAeC,eAAf,IAAkC5D,QAAQ,CAAC,EAAD,CAAhD,CA7HqB,CA+HrB;;EACA,MAAM,CAAC6D,UAAD,EAAaC,aAAb,IAA8B9D,QAAQ,EAA5C;EAIA;EAEA;EACA;EACA;;EACA,MAAM+D,gBAAgB,GAAKC,KAAF,IAAa;IAsBlC;IACA;IACA7C,4BAA4B;EAG/B,CA3BD;;EA6BA,IAAI,CAAC8C,IAAD,EAAOC,OAAP,IAAkBlE,QAAQ,CAAC,OAAD,CAA9B;EACA,CAAC2D,YAAD,GAAgBM,IAAI,GAAG,MAAvB,GAAgCA,IAAI,GAAG,OAAvC,CAvKqB,CA0KrB;EACA;;EACA,MAAME,UAAU,GAAG,MAAM;IAEtB,MAAMC,QAAQ,GAAGC,uBAAuB,CAACC,MAAxB,CAAiCC,WAAD,IAAiB;MAEjE;MACA;MAEE,IAAIA,WAAW,CAACC,IAAZ,CAAiBC,WAAjB,OAAmCZ,UAAU,CAACY,WAAX,EAAvC,EAAiE;QAE5D,OAAOjC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAAP;MAEJ,CAJD,MAIO;QAEL,OAAO8B,WAAW,CAACC,IAAZ,CAAiBC,WAAjB,OAAmCZ,UAAU,CAACY,WAAX,EAA1C;MAEH;IACF,CAdiB,CAAjB;IAgBDb,eAAe,CAACQ,QAAD,CAAf;EAED,CApBD,CA5KqB,CAmMrB;;;EACA,MAAMM,eAAe,GAAG,MAAM;IAE1BlB,QAAQ,CAAC,WAAD,CAAR;EACH,CAHD;;EAKA,MAAMmB,YAAY,GAAG,MAAM;IACvBnB,QAAQ,CAAC,WAAD,CAAR;EACH,CAFD;;EAIA,MAAMoB,WAAW,GAAG,MAAM;IACtBpB,QAAQ,CAAC,cAAD,CAAR;EACH,CAFD;;EAKA,SAASqB,cAAT,CAAyBC,oBAAzB,EAA+C;IAE3C,IAAIA,oBAAJ,EAA0B;MAEtB3E,KAAK,CAACqB,IAAN,CAAW,sCAAX,EAAmD;QAE/CC,YAAY,EAAGC,iBAFgC;QAI/CqD,sBAAsB,EAAED;MAJuB,CAAnD,EAMGlD,IANH,CAMSoD,QAAD,IAAc;QAEpB;QACEtB,qBAAqB,CAAErB,SAAD,IAAe,CAAC,GAAGA,SAAJ,EAAe2C,QAAQ,CAAClD,IAAT,CAAcD,MAA7B,CAAhB,CAArB;MAEH,CAXD,EAWGS,KAXH,CAWUC,GAAD,IAAS;QAEdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MAEH,CAfD;IAiBH;EAEJ,CAzOoB,CA4OpB;;;EACAzC,SAAS,CAAC,MAAM;IACb,MAAMmF,mBAAmB,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,CAA5B;IAEAlF,KAAK,CAACqB,IAAN,CAAW,qCAAX,EAAkD;MAE9CC,YAAY,EAAEwD;IAFgC,CAAlD,EAIGrD,IAJH,CAISoD,QAAD,IAAc;MAEpB;MACA,MAAMM,CAAC,GAAGN,QAAQ,CAAClD,IAAT,CAAcwC,MAAd,CAAsBiB,IAAD,IAAU;QAEvC,OAAO7B,qBAAqB,CAAErB,SAAD,IAAe,CAAC,GAAGA,SAAJ,EAAekD,IAAI,CAACR,sBAApB,CAAhB,CAA5B;MAED,CAJS,CAAV;IAMD,CAbD,EAaGzC,KAbH,CAaUC,GAAD,IAAS;MAEdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IAEH,CAjBD;EAoBH,CAvBS,EAuBP,EAvBO,CAAT;EAyBDC,OAAO,CAACC,GAAR,CAAY,QAAQf,iBAApB,EAtQqB,CA2QnB;;EACA5B,SAAS,CAAC,MAAM;IAEd,IAAIsD,sBAAJ,EAA4B;MAExB;MACA;MAEA,IAAIK,kBAAkB,CAACrB,QAAnB,CAA4BgB,sBAA5B,CAAJ,EAAyD,CAExD,CAPuB,CASxB;MACA;;;MAEA,IAAI,CAACK,kBAAkB,CAACrB,QAAnB,CAA4BgB,sBAA5B,CAAL,EAA0D;QAEtDM,qBAAqB,CAAErB,SAAD,IAAe,CAAC,GAAGA,SAAJ,EAAee,sBAAf,CAAhB,CAArB;MACH;IAGJ;EAEJ,CAtBU,EAsBR,CAACA,sBAAD,CAtBQ,CAAT;EA4CF,oBACI;IAAK,SAAS,EAAC,4BAAf;IAAA,wBAEG;MAAK,SAAS,EAAC,mCAAf;MAAA,wBAEC;QAAK,SAAS,EAAC,sBAAf;QAAA,wBACI;UAAI,SAAS,EAAC,IAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAGI,QAAC,SAAD;UAAW,SAAS,EAAC;QAArB;UAAA;UAAA;UAAA;QAAA,QAHJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFD,eAUC;QAAK,SAAS,EAAC,8BAAf;QAAA,wBAEI;UAAO,IAAI,EAAC,MAAZ;UAAmB,SAAS,EAAC,0BAA7B;UAAwD,QAAQ,EAAEW;QAAlE;UAAA;UAAA;UAAA;QAAA,QAFJ,eAII,QAAC,SAAD;UAAW,SAAS,EAAC,+BAArB;UAAqD,OAAO,EAAEI;QAA9D;UAAA;UAAA;UAAA;QAAA,QAJJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAVD,eAsBC;QAAI,SAAS,EAAC,SAAd;QAAA,wBACI;UAAI,OAAO,EAAES,WAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAI,OAAO,EAAED,YAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAtBD;IAAA;MAAA;MAAA;MAAA;IAAA,QAFH,eAsCI;MAAK,SAAS,EAAC,kCAAf;MAAA,uBAIA;QAAK,SAAS,EAAC,4CAAf;QAAA,wBAGC;UAAK,SAAS,EAAC,mCAAf;UAAmD,GAAG,EAAE9D,wBAAxD;UAAA,UAGO8C,YAAY,CAAC6B,GAAb,CAAiB,CAAClB,MAAD,EAASmB,EAAT,kBAEjB;YAAc,SAAS,EAAC,2BAAxB;YAAoD,KAAK,EAAE;cAACvE,OAAO,EAAE+C;YAAV,CAA3D;YAA4E,OAAO,EAAE,MAAO;cAExF,IAAIR,kBAAkB,CAACrB,QAAnB,CAA4BkC,MAAM,CAACE,IAAnC,CAAJ,EAA8C,CAE9C;gBACA;gBACA;cAEC,CAND,MAMO,IAAK,CAACf,kBAAkB,CAACrB,QAAnB,CAA4BkC,MAAM,CAACE,IAAnC,CAAN,EAAgD;gBAEvD;gBACA;gBACMK,cAAc,CAACP,MAAM,CAACE,IAAR,CAAd;cACL;;cAEDzD,4BAA4B;YAE3B,CAjBL;YAAA,uBAmBI;cAAA;cAEM;AAC9B;AACA;cAE4BuD,MAAM,CAACoB,eAAP,gBAAyB;gBAAK,GAAG,EAAEpB,MAAM,CAACoB;cAAjB;gBAAA;gBAAA;gBAAA;cAAA,QAAzB,GAEApB,MAAM,CAACE,IAAP,gBAAc;gBAAG,SAAS,EAAC,sCAAb;gBAAA,UAAsDF,MAAM,CAACE,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB;cAAtD;gBAAA;gBAAA;gBAAA;cAAA,QAAd,GAEE,EAVN,EAcKrB,MAAM,CAACE,IAdZ;YAAA;cAAA;cAAA;cAAA;YAAA;UAnBJ,GAAUiB,EAAV;YAAA;YAAA;YAAA;UAAA,QAFA;QAHP;UAAA;UAAA;UAAA;QAAA,QAHD,eAwDA;UAAK,SAAS,EAAC,0CAAf;UAAA,UAEIhC,kBAAkB,CAAC+B,GAAnB,CAAuB,CAACI,iBAAD,EAAoBH,EAApB,kBAEvB;YAAe,SAAS,EAAC,4BAAzB;YAAsD,OAAO,EAAG,MAAO;cAEpE;gBAAC;AACpB;cAAuF;cAEnE5C,qBAAqB,CAAC+C,iBAAD,CAArB;cAEAlB,eAAe;YAElB,CATD;YAAA,uBAWA;cAAA;cAEI;cAEAkB,iBAAiB,gBAAG;gBAAG,SAAS,EAAC,yCAAb;gBAAA,UAAyDA,iBAAiB,CAACD,MAAlB,CAAyB,CAAzB;cAAzD;gBAAA;gBAAA;gBAAA;cAAA,QAAH,GACf,GALN,EASUC,iBATV;YAAA;cAAA;cAAA;cAAA;YAAA;UAXA,GAAUH,EAAV;YAAA;YAAA;YAAA;UAAA,QAFA;QAFJ;UAAA;UAAA;UAAA;QAAA,QAxDA;MAAA;QAAA;QAAA;QAAA;MAAA;IAJA;MAAA;MAAA;MAAA;IAAA,QAtCJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA+IH;;GAvcQ9E,c;UAqHYF,W;;;KArHZE,c;AAycT,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}